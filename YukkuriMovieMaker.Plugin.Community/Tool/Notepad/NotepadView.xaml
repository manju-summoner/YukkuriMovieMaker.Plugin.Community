<UserControl x:Class="YukkuriMovieMaker.Plugin.Community.Tool.Notepad.NotepadView"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
             xmlns:local="clr-namespace:YukkuriMovieMaker.Plugin.Community.Tool.Notepad"
             xmlns:i="http://schemas.microsoft.com/xaml/behaviors"
             xmlns:pb="clr-namespace:YukkuriMovieMaker.Views.Behaviors;assembly=YukkuriMovieMaker.Plugin"
             xmlns:ps="clr-namespace:YukkuriMovieMaker.Settings;assembly=YukkuriMovieMaker.Plugin"
             xmlns:pt="clr-namespace:YukkuriMovieMaker.Views.Triggers;assembly=YukkuriMovieMaker.Plugin"
             xmlns:pc="clr-namespace:YukkuriMovieMaker.Views.Converters;assembly=YukkuriMovieMaker.Plugin"
             xmlns:sys="clr-namespace:System;assembly=System.Runtime"
             xmlns:icons="clr-namespace:YukkuriMovieMaker.Resources.Icons;assembly=YukkuriMovieMaker.Plugin"
             mc:Ignorable="d" 
             d:DesignHeight="450" d:DesignWidth="800"
             d:DataContext="{d:DesignInstance Type={x:Type local:NotepadViewModel}}">
    <i:Interaction.Behaviors>
        <pb:OpenFileDialogBehavior ViewModel="{Binding OpenFileDialog}"/>
        <pb:SaveFileDialogBehavior ViewModel="{Binding SaveFileDialog}"/>
    </i:Interaction.Behaviors>
    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition/>
        </Grid.RowDefinitions>
        <ToolBarTray Grid.Row="0" Name="ToolBar">
            <i:Interaction.Triggers>
                <pt:PreviewMouseWheelEventTrigger ModifierKeys="Ctrl" DeltaMode="Down" Handled="True">
                    <i:InvokeCommandAction Command="{Binding Source={x:Static ps:CommandSettings.Default},Path=[SizeDownToolBar]}" PassEventArgsToCommand="True"/>
                </pt:PreviewMouseWheelEventTrigger>
                <pt:PreviewMouseWheelEventTrigger ModifierKeys="Ctrl" DeltaMode="Up" Handled="True">
                    <i:InvokeCommandAction Command="{Binding Source={x:Static ps:CommandSettings.Default},Path=[SizeUpToolBar]}" PassEventArgsToCommand="True"/>
                </pt:PreviewMouseWheelEventTrigger>
            </i:Interaction.Triggers>
            <ToolBar Height="{Binding Source={x:Static ps:YMMSettings.Default},Path=ToolBarHeight}">
                <Button Content="{DynamicResource {x:Static icons:IconKeys.Plus}}" Command="{Binding OpenNewTabCommand}" ToolTip="{x:Static local:Texts.OpenNewTab}"/>
                <Button Content="{DynamicResource {x:Static icons:IconKeys.Folder}}" Command="{Binding OpenCommand}" ToolTip="{x:Static local:Texts.Open}"/>
                <Separator/>
                <Button Content="{DynamicResource {x:Static icons:IconKeys.ContentSave}}" Command="{Binding SaveCommand}" CommandParameter="{Binding FilePath}" ToolTip="{x:Static local:Texts.Save}"/>
                <Button Content="{DynamicResource {x:Static icons:IconKeys.ContentSaveEdit}}" Command="{Binding SaveCommand}" ToolTip="{x:Static local:Texts.SaveAs}"/>
            </ToolBar>
        </ToolBarTray>
        <TextBox Grid.Row="1" 
                 Text="{Binding Text,Mode=TwoWay,UpdateSourceTrigger=PropertyChanged,Delay=1}"
                 FontSize="{Binding FontSize}" 
                 Padding="3"
                 AcceptsReturn="True" 
                 AcceptsTab="True" 
                 VerticalScrollBarVisibility="Auto"
                 HorizontalScrollBarVisibility="Auto">
            <i:Interaction.Triggers>
                <i:EventTrigger EventName="PreviewMouseWheel">
                    <i:InvokeCommandAction Command="{Binding ChangeFontSizeCommand}" PassEventArgsToCommand="True"/>
                </i:EventTrigger>
            </i:Interaction.Triggers>
        </TextBox>
    </Grid>
</UserControl>
